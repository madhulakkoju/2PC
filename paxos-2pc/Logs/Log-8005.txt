 
Transaction Worker Thread Started
Received prepare request from S4 with ballot number 1
Prepare Request Received from S4
ballotNumber: 1
processId: "S4"
transaction {
  sender: 1001
  receiver: 1650
  amount: 2
  transactionNum: 2
}
latestCommittedBallotNumber: -1
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: -1
Req -> getLatestCommittedBallotNumber-1
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 1
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: 
Prepare Request Accepted from S4
Received Commit request from S4 with ballot number 1
Commit Request Received from S4
Commit Request Accepted from S4
Received prepare request from S4 with ballot number 2
Prepare Request Received from S4
ballotNumber: 2
processId: "S4"
transaction {
  sender: 1201
  receiver: 1111
  amount: 5
  transactionNum: 4
}
latestCommittedBallotNumber: 1
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 1
Req -> getLatestCommittedBallotNumber1
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 2
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: Transaction ( 1001 -> 1650 = 2 ) ; 
Prepare Request Accepted from S4
Received Commit request from S4 with ballot number 2
Commit Request Received from S4
Commit Request Accepted from S4
Received prepare request from S4 with ballot number 3
Received Commit request from S4 with ballot number 3
Processing Transaction: 14
Prepare response from 6 : false
Prepare response from 4 : false
Data Post Sync -------------
Synced Transaction: 3
Synced Transaction Status: 3
Synced data ... Now Retrying Prepare phase
ballotNumber: 3
processId: "S6"
lastAcceptedUncommittedBallotNumber: -1
lastCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
lastCommittedBallotNumber: 3
syncTransactionsMap {
  key: 3
  value {
    sender: 1895
    receiver: 1890
    amount: 5
    transactionNum: 10
  }
}
syncTransactionStatusMap {
  key: 3
  value: COMMITTED
}
needToSync: true
latestBallotNumber: 3

Prepare response from 4 : false
Prepare response from 6 : true
Commit response from 6 : true
Commit response from 4 : false
Received prepare request from S4 with ballot number 4
Prepare Request Received from S4
ballotNumber: 4
processId: "S4"
transaction {
  sender: 1495
  receiver: 1490
  amount: 3
  transactionNum: 16
}
latestCommittedBallotNumber: 3
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 4
Req -> getLatestCommittedBallotNumber3
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 4
Success condition
Last Accepted Uncommitted Transaction: Transaction ( 0 -> 0 = 0 ) ; 
Last Committed Transaction: Transaction ( 1895 -> 1890 = 5 ) ; 
Prepare Request Rejected from S4 Because Current Server is ahead of Leader 
Received prepare request from S4 with ballot number 5
Prepare Request Received from S4
ballotNumber: 5
processId: "S4"
transaction {
  sender: 1495
  receiver: 1490
  amount: 3
  transactionNum: 16
}
latestCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
latestCommittedBallotNumber: 4
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 4
Req -> getLatestCommittedBallotNumber4
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 5
Success condition
Last Accepted Uncommitted Transaction: Transaction ( 0 -> 0 = 0 ) ; 
Last Committed Transaction: Transaction ( 1895 -> 1890 = 5 ) ; 
Prepare Request Accepted from S4
Received Commit request from S4 with ballot number 5
Commit Request Received from S4
Commit Request Accepted from S4
Received prepare request from S4 with ballot number 6
Prepare Request Received from S4
ballotNumber: 6
processId: "S4"
transaction {
  sender: 1690
  receiver: 1695
  amount: 6
  transactionNum: 18
}
latestCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
latestCommittedBallotNumber: 5
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 5
Req -> getLatestCommittedBallotNumber5
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 6
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: Transaction ( 1495 -> 1490 = 3 ) ; 
Prepare Request Accepted from S4
Received Commit request from S4 with ballot number 6
Commit Request Received from S4
Commit Request Accepted from S4
Received prepare request from S4 with ballot number 7
Prepare Request Received from S4
ballotNumber: 7
processId: "S4"
transaction {
  sender: 299
  receiver: 1999
  amount: 15
  transactionNum: 20
  isCrossShard: true
}
latestCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
latestCommittedBallotNumber: 6
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 6
Req -> getLatestCommittedBallotNumber6
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 7
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: Transaction ( 1690 -> 1695 = 6 ) ; 
Prepare Request Accepted from S4
Received Commit request from S4 with ballot number 7
Commit Request Received from S4
Commit Request Accepted from S4
Received prepare request from S4 with ballot number 8
Prepare Request Received from S4
ballotNumber: 8
processId: "S4"
transaction {
  sender: 1001
  receiver: 2999
  amount: 6
  transactionNum: 21
  isCrossShard: true
}
latestCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
latestCommittedBallotNumber: 6
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 7
Req -> getLatestCommittedBallotNumber6
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 8
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: Transaction ( 299 -> 1999 = 15 ) ; 
Prepare Request Rejected from S4 Because Current Server is ahead of Leader 
Received Commit request from S4 with ballot number 8
Abort Request Received from S4
Received prepare request from S4 with ballot number 9
Prepare Request Received from S4
ballotNumber: 9
processId: "S4"
transaction {
  sender: 2150
  receiver: 1111
  amount: 9
  transactionNum: 22
  isCrossShard: true
}
latestCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
latestCommittedBallotNumber: 6
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 7
Req -> getLatestCommittedBallotNumber6
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 9
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: Transaction ( 299 -> 1999 = 15 ) ; 
Prepare Request Rejected from S4 Because Current Server is ahead of Leader 
Received Commit request from S4 with ballot number 9
Abort Request Received from S4
Received prepare request from S4 with ballot number 10
Prepare Request Received from S4
ballotNumber: 10
processId: "S4"
transaction {
  sender: 2999
  receiver: 1999
  amount: 6
  transactionNum: 25
  isCrossShard: true
}
latestCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
latestCommittedBallotNumber: 6
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 7
Req -> getLatestCommittedBallotNumber6
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 10
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: Transaction ( 299 -> 1999 = 15 ) ; 
Prepare Request Rejected from S4 Because Current Server is ahead of Leader 
Received Commit request from S4 with ballot number 10
Abort Request Received from S4
Received prepare request from S4 with ballot number 11
Prepare Request Received from S4
ballotNumber: 11
processId: "S4"
transaction {
  sender: 796
  receiver: 1997
  amount: 9
  transactionNum: 30
  isCrossShard: true
}
latestCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
latestCommittedBallotNumber: 6
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 7
Req -> getLatestCommittedBallotNumber6
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 11
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: Transaction ( 299 -> 1999 = 15 ) ; 
Prepare Request Rejected from S4 Because Current Server is ahead of Leader 
Received Commit request from S4 with ballot number 11
Abort Request Received from S4
Received prepare request from S4 with ballot number 12
Prepare Request Received from S4
ballotNumber: 12
processId: "S4"
transaction {
  sender: 796
  receiver: 1997
  amount: 7
  transactionNum: 32
  isCrossShard: true
}
latestCommittedTransaction {
  sender: 1895
  receiver: 1890
  amount: 5
  transactionNum: 10
}
latestCommittedBallotNumber: 6
clusterId: 2

-------------------
DB -> Last Committed Ballot Number: 7
Req -> getLatestCommittedBallotNumber6
Ahead check
Last Accepted Uncommitted Ballot Number: -1
Req Ballot Number 12
Success condition
Last Accepted Uncommitted Transaction: 
Last Committed Transaction: Transaction ( 299 -> 1999 = 15 ) ; 
Prepare Request Rejected from S4 Because Current Server is ahead of Leader 
Received Commit request from S4 with ballot number 12
Abort Request Received from S4
Received Commit request from S4 with ballot number -1
Abort Request Received from S4